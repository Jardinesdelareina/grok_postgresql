-----------------------------------------------------
# Файл конфигурации аутентификации клиента PostgreSQL
-----------------------------------------------------

Этот файл контролирует: 

* каким хостам разрешено подключаться, 
* как клиенты аутентифицированы, 
* какие имена пользователей PostgreSQL они могут использовать, 
* какие есть базы данных, к которым они могут получить доступ. 

Записи принимают одну из следующих форм:

`<Тип_подключения>____<База данных>____<Пользователь>____<Метод>____[<Опции>]`


### Тип подключения (TYPE)

- `local` — сокет Unix-домена.
- `host` — это сокет TCP/IP (зашифрованный или нет)
- `hostssl` — это сокет TCP/IP, зашифрованный с помощью SSL.
- `hostnossl` — это сокет TCP/IP, не зашифрованный с помощью SSL.
- `hostgssenc` — это сокет TCP/IP, зашифрованный GSSAPI.
- `hostnogssenc` — это сокет TCP/IP, не зашифрованный с помощью GSSAPI.


### База данных (DATABASE)

DATABASE может быть `all`, `sameuser`, `samerole`, `replication`.
Имя базы данных или ее список разделен запятыми. Ключевое слово `all не соответствует «репликации». Доступ к репликации необходимо включить в отдельной записи.


### Пользователь (USER)

USER может быть `all`, именем пользователя, именем группы с префиксом «+» или их список, разделенный запятыми. В полях DATABASE и USER вы также можете написать имя файла с префиксом «@», чтобы включить имена из отдельного файла.


### Адрес (ADDRESS)

ADDRESS указывает набор хостов, которым соответствует запись. Это может быть имя хоста или оно состоит из IP-адреса и маски CIDR, целое число (от 0 до 32 (IPv4) или 128 (IPv6) включительно), которое определяет количество значащих битов в маске. Имя хоста имя, начинающееся с точки (.), соответствует суффиксу фактического имени хоста. Альтернативно, вы можете написать IP-адрес и маску сети отдельно столбцы для указания набора хостов. Вместо CIDR-адреса вы можете написать `samehost`, чтобы оно соответствовало любому IP-адресу сервера, или `samenet`, чтобы соответствовать любому адресу в любой подсети, к которой принадлежит сервер.


### Метод (METHOD)

МЕТОД может быть `trust`, `reject`, `md5`, `password`, `scram-sha-256`,
`gss`, `sspi`, `ident`, `peer`, `pam`, `ldap`, `radius` или `cert`. Обратите внимание, что `password` отправляет пароли в виде открытого текста; `md5` или `scram-sha-256` предпочтительнее, поскольку они отправляют зашифрованные пароли.


### Опции (OPTIONS)

ОПЦИИ — набор опций аутентификации в формате ИМЯ=ЗНАЧЕНИЕ. Доступные параметры зависят от различных методов аутентификации.


-------------------------------------------------------------------------------------------------------

Этот файл читается при запуске сервера и когда сервер получает сигнал SIGHUP. Если вы редактируете файл в работающей системе, вам придется перезагрузить сервер, чтобы изменения вступили в силу. Для этого запустите `pg_ctl reload`, или выполните команду:
```sql
SELECT pg_reload_conf();
```

----------------------------------------------
### Разместите здесь свою фактическую конфигурацию
----------------------------------------------

Если вы хотите разрешить нелокальные подключения, вам нужно добавить больше `host` записей. В этом случае вам также потребуется прослушивать нелокальный интерфейс через параметр `listen_addresses` конфигурации или через ключи командной строки -i или -h.

НЕ ОТКЛЮЧАТЬ!
Если вы измените эту первую запись, вам необходимо убедиться, что Суперпользователь базы данных может получить доступ к базе данных, используя другой метод. При автоматическом режиме требуется неинтерактивный доступ ко всем базам данных (настраиваемые ежедневные задания cron, репликация и подобные задачи).

##### Административный вход в базу данных через доменный сокет Unix
`local___all_____________postgres______________________________peer`


`TYPE___DATABASE__________USER_______________ADDRESS___________METHOD`

##### "local" предназначен только для соединений сокетов домена Unix.
`local___all_______________all__________________________________peer`

##### IPv4 local connections (Локальные соединения IPv4):
`host____all_______________all______________127.0.0.1/32________peer`

##### IPv6 local connections (Локальные соединения IPv6):
`host____all_______________all________________::1/128___________peer`


##### Разрешить подключения репликации с локального хоста пользователем с привилегиями репликации.
`local___replication_______all__________________________________peer`


`host____replication_______all______________127.0.0.1/32_______scram-sha-256`
`host____replication_______all________________::1/128__________scram-sha-256`